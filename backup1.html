<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HeadRedFishEatingCat</title>
    <style>
        #cat1 {
            margin-left: 10.36em; 
        }
        #head1 {
            margin-left: -11.7em; 
        }
        #eating1 {
            margin-left: 2.35em;
        }
        #fish1 {
            margin-left: -5.67em; 
        }
        #cat2 {
            margin-left: 10.36em; 
        }
        #eating2 {
            margin-left: -4.69em; 
        }
        #fish2 {
            margin-left: -5.67em; 
        }
        #head2 {
            margin-left: -7.05em; 
        }
        #cat3 {
            margin-left: 10.36em; 
        }
        #head3 {
            margin-left: -11.7em; 
        }
        #eating3 {
            margin-left: 4.69em; 
        }
        #fish3 {
            margin-left: -5.67em; 
        }
        #red3 {
            margin-left: -4.69em; 
        }
        #cat4 {
            margin-left: 8.02em; 
        }
        #eating4 {
            margin-left: -4.69em; 
        }
        #fish4 {
            margin-left: -5.67em; 
        }
        #red4 {
            margin-left: -4.69em; 
        }
        #cat5 {
            margin-left: 5.68em; 
        }
        #eating5 {
            margin-left: -4.69em; 
        }
        #fish5 {
            margin-left: -5.67em; 
        }
        .Sentence {
            margin-left: 0.8em; 
        }
        body {
            margin-top: 1em;
            font-size: 2em;
        }
        .HRFECç”»åƒ {
            width: 7em; 
            border: 10px solid pink; 
        }
        .fish {
            position: relative;
            top: -6.3em; 
            left: -7.57em; 
        }
        .circle {
            display: none;
        }
        .cross {
            display: none;
        }
        .dropped {
            position: absolute;
            top: 0;
            left: 1.3em;
        }
        .HRFEC {
            margin-bottom: 2em; 
            margin-left: 0.8em;
        }
        .draggable-container {
            margin-bottom: 1em; 
        }
        .Reset {
            position: absolute;
            margin-left: 11em; 
            margin-top: -0.19em;
            font-size: 1.3em;
        }
        .Answer {
            display: flex;
            flex-wrap: wrap; /* ã‚³ãƒ³ãƒ†ãƒŠå†…ã®è¦ç´ ãŒæŠ˜ã‚Šè¿”ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ */
            align-items: flex-start; /* é–‹å§‹ä½ç½®ï¼ˆä¸Šç«¯ï¼‰ã«å¯„ã›ã‚‹ */
            justify-content: flex-start;
        }
        .HRFEC1,
        .HRFEC2,
        .HRFEC3,
        .HRFEC4,
        .HRFEC5 {
            margin-right: 0.2em; /* å³å´ã«éš™é–“ã‚’è¨­å®š */
            margin-bottom: 0.3em; /* ä¸‹å´ã«éš™é–“ã‚’è¨­å®š */
        }
        .Sentence {
            white-space: nowrap; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ˜ã‚Šè¿”ã•ãšã«ç”»é¢å¤–ã«è¡¨ç¤º */
        }
        
    </style>
</head>
<body>
    <div class="HRFEC">
        <div class="Question" id="Question1">å•1
            <span class="Reset" id="ResetButton1">ğŸ”„</span> 
            <span class="Sentence">
                <span id="cat2">çŒ«
                    <span id="eating2">é£Ÿã¹ã‚‹
                        <span id="fish2">é­šã‚’
                            <span id="head2">é ­ãŒ
                                <span id="red2">èµ¤ã„</span>
                            </span>
                        </span>
                    </span>
                </span>
            </span>
        </div>
            <div class="draggable-container" id="draggable-container1">
                <span class=darggable id="draggable1" draggable="true">ğŸˆ</span>
                <span class="Judgment">
                    <span class="circle" id="circle1">â­•</span> 
                    <span class="cross" id="cross1">âŒ</span>
                </span>   
            </div>
        <div class="Answer" id="Answer1">
            <div class="HRFEC1">
                <img src="picture/HRFEC1.jpg" class="HRFECç”»åƒ">
                <span id="droppable1-1" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC2">
                <img src="picture/HRFEC2.jpg" class="HRFECç”»åƒ">
                <span id="droppable1-2" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC3">
                <img src="picture/HRFEC3.jpg" class="HRFECç”»åƒ">
                <span id="droppable1-3" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC4">
                <img src="picture/HRFEC4.jpg" class="HRFECç”»åƒ">
                <span id="droppable1-4" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC5">
                <img src="picture/HRFEC5.jpg" class="HRFECç”»åƒ">
                <span id="droppable1-5" class="fish">ğŸŸ</span>
            </div>
        </div>
    </div>
    <div class="HRFEC">
        <div class="Question" id="Question2">å•2
            <span class="Reset" id="ResetButton2">ğŸ”„</span> 
            <span class="Sentence">
                <span id="head4">é ­ãŒ
                    <span id="cat4">çŒ«
                        <span id="eating4">é£Ÿã¹ã‚‹
                            <span id="fish4">é­šã‚’
                                <span id="red4">èµ¤ã„</span>
                            </span>
                        </span>
                    </span>
                </span>
            </span>
        </div>
        <div class="draggable-container" id="draggable-container2">
            <span class=darggable id="draggable2" draggable="true">ğŸˆ</span>
            <span class="Judgment">
                <span class="circle" id="circle2">â­•</span> 
                <span class="cross" id="cross2">âŒ</span>
            </span>   
        </div>
        <div class="Answer" id="Answer2">
            <div class="HRFEC1">
                <img src="picture/HRFEC1.jpg" class="HRFECç”»åƒ">
                <span id="droppable2-1" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC2">
                <img src="picture/HRFEC2.jpg" class="HRFECç”»åƒ">
                <span id="droppable2-2" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC3">
                <img src="picture/HRFEC3.jpg" class="HRFECç”»åƒ">
                <span id="droppable2-3" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC4">
                <img src="picture/HRFEC4.jpg" class="HRFECç”»åƒ">
                <span id="droppable2-4" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC5">
                <img src="picture/HRFEC5.jpg" class="HRFECç”»åƒ">
                <span id="droppable2-5" class="fish">ğŸŸ</span>
            </div>
        </div>
    </div>
    <div class="HRFEC">
        <div class="Question" id="Question3">å•3
            <span class="Reset" id="ResetButton3">ğŸ”„</span> 
            <span class="Sentence">
                <span id="cat1">çŒ«
                    <span id="head1">é ­ãŒ
                        <span id="red1">èµ¤ã„</span>
                    </span>
                    <span id="eating1">é£Ÿã¹ã‚‹
                        <span id="fish1">é­šã‚’</span>
                    </span>
                </span>
            </span>
        </div>
        <div class="draggable-container" id="draggable-container3">
            <span class=darggable id="draggable3" draggable="true">ğŸˆ</span>
            <span class="Judgment">
                <span class="circle" id="circle3">â­•</span> 
                <span class="cross" id="cross3">âŒ</span>
            </span>
        </div>
        <div class="Answer" id="Answer3">
            <div class="HRFEC1">
                <img src="picture/HRFEC1.jpg" class="HRFECç”»åƒ">
                <span id="droppable3-1" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC2">
                <img src="picture/HRFEC2.jpg" class="HRFECç”»åƒ">
                <span id="droppable3-2" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC3">
                <img src="picture/HRFEC3.jpg" class="HRFECç”»åƒ">
                <span id="droppable3-3" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC4">
                <img src="picture/HRFEC4.jpg" class="HRFECç”»åƒ">
                <span id="droppable3-4" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC5">
                <img src="picture/HRFEC5.jpg" class="HRFECç”»åƒ">
                <span id="droppable3-5" class="fish">ğŸŸ</span>
            </div>
        </div>
    </div>
    <div class="HRFEC">
        <div class="Question" id="Question4">å•4
            <span class="Reset" id="ResetButton4">ğŸ”„</span> 
            <span class="Sentence">
                <span id="head5">é ­ãŒ
                    <span id="red5">èµ¤ã„</span>
                    <span id="cat5">çŒ«
                        <span id="eating5">é£Ÿã¹ã‚‹
                            <span id="fish5">é­šã‚’</span>
                        </span>
                    </span>
                </span>
            </span>
        </div>
        <div class="draggable-container" id="draggable-container4">
            <span class=darggable id="draggable4" draggable="true">ğŸˆ</span>
            <span class="Judgment">
                <span class="circle" id="circle4">â­•</span> 
                <span class="cross" id="cross4">âŒ</span>
            </span>
        </div>
        <div class="Answer" id="Answer4">
            <div class="HRFEC1">
                <img src="picture/HRFEC1.jpg" class="HRFECç”»åƒ">
                <span id="droppable4-1" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC2">
                <img src="picture/HRFEC2.jpg" class="HRFECç”»åƒ">
                <span id="droppable4-2" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC3">
                <img src="picture/HRFEC3.jpg" class="HRFECç”»åƒ">
                <span id="droppable4-3" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC4">
                <img src="picture/HRFEC4.jpg" class="HRFECç”»åƒ">
                <span id="droppable4-4" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC5">
                <img src="picture/HRFEC5.jpg" class="HRFECç”»åƒ">
                <span id="droppable4-5" class="fish">ğŸŸ</span>
            </div>
        </div>
    </div>
    <div class="HRFEC">
        <div class="Question" id="Question5">å•5
            <span class="Reset" id="ResetButton5">ğŸ”„</span> 
            <span class="Sentence">
                <span id="cat3">çŒ«
                    <span id="head3">é ­ãŒ
                        <span id="eating3">é£Ÿã¹ã‚‹
                            <span id="fish3">é­šã‚’
                                <span id="red3">èµ¤ã„</span>
                            </span>
                        </span>
                    </span>
                </span>
            </span>
        </div>
        <div class="draggable-container" id="draggable-container5">
            <span class=darggable id="draggable5" draggable="true">ğŸˆ</span>
            <span class="Judgment">
                <span class="circle" id="circle5">â­•</span> 
                <span class="cross" id="cross5">âŒ</span>
            </span>
        </div>
        <div class="Answer" id="Answer5">
            <div class="HRFEC1">
                <img src="picture/HRFEC1.jpg" class="HRFECç”»åƒ">
                <span id="droppable5-1" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC2">
                <img src="picture/HRFEC2.jpg" class="HRFECç”»åƒ">
                <span id="droppable5-2" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC3">
                <img src="picture/HRFEC3.jpg" class="HRFECç”»åƒ">
                <span id="droppable5-3" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC4">
                <img src="picture/HRFEC4.jpg" class="HRFECç”»åƒ">
                <span id="droppable5-4" class="fish">ğŸŸ</span>
            </div>
            <div class="HRFEC5">
                <img src="picture/HRFEC5.jpg" class="HRFECç”»åƒ">
                <span id="droppable5-5" class="fish">ğŸŸ</span>
            </div>
        </div>
    </div>
    <script>
// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®å‡¦ç†
document.addEventListener('DOMContentLoaded', function() {
    const seikaiSoundPath = 'sound/seikai.mp3';
    const hazureSoundPath = 'sound/hazure.mp3';

    const seikaiAudio = new Audio();
    seikaiAudio.src = seikaiSoundPath;
    seikaiAudio.preload = 'auto';

    const hazureAudio = new Audio();
    hazureAudio.src = hazureSoundPath;  
    hazureAudio.preload = 'auto';

    for (let i = 1; i <= 5; i++) {
        const draggable = document.getElementById(`draggable${i}`);
        const droppables = document.querySelectorAll(`[id^="droppable${i}-"]`);
        const circle = document.querySelector(`[id="circle${i}"]`);
        const cross = document.querySelector(`[id="cross${i}"]`);
        const resetButton = document.querySelector(`#ResetButton${i}`);

        setupDragAndDrop(draggable, droppables, circle, cross, seikaiSoundPath, hazureSoundPath);
        setupResetButton(resetButton, draggable, circle, cross);
    }
});

// ã‚µã‚¦ãƒ³ãƒ‰ã‚’å†ç”Ÿã™ã‚‹é–¢æ•°
function playSound(soundPath) {
    const audio = new Audio(soundPath);
    audio.play();
}

let dragElementId; // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã§å¤‰æ•°ã‚’å®šç¾©

// ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹æ™‚ã®å‡¦ç†
function dragStart(e) {
    e.dataTransfer.setData('text/plain', null);
    dragElementId = e.target.id; // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã®å¤‰æ•°ã«å€¤ã‚’è¨­å®š
}

// ãƒ‰ãƒ©ãƒƒã‚°ã‚ªãƒ¼ãƒãƒ¼æ™‚ã®å‡¦ç†
function dragOver(e) {
    e.preventDefault();

    const draggableNumber = parseInt(dragElementId.match(/\d+/)[0]); // droppable1-3ã®å ´åˆã€1
    const droppableNumber = parseInt(e.target.id.match(/\d+/)[0]); // droppable2-3ã®å ´åˆã€2 

    // draggableNumber ãŒ 1ã€2ã€3ã€4ã€5 ã§ãªã„å ´åˆã€ã¾ãŸã¯ draggableNumber ã¨ droppableNumber ãŒç•°ãªã‚‹å ´åˆã€ãƒ‰ãƒ­ãƒƒãƒ—ã‚’è¨±å¯ã—ãªã„
    if (draggableNumber !== droppableNumber) {
        e.dataTransfer.dropEffect = 'none';
    }
}



// ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—é–¢æ•°
function setupDragAndDrop(draggable, droppables, circle, cross, seikaiSoundPath, hazureSoundPath) {
    draggable.addEventListener('dragstart', dragStart);
    droppables.forEach(droppable => {
        droppable.addEventListener('dragover', dragOver);
        droppable.addEventListener('drop', function(e) {

             // ãƒ‰ãƒ­ãƒƒãƒ—å‡¦ç†ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã™å‰ã«ã€æ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯
            const draggableNumber = parseInt(draggable.id.match(/\d+/)[0]);//droppable1-3ã®å ´åˆã€1
            const droppableNumber = parseInt(droppable.id.match(/\d+/)[0]); //droppable2-3ã®å ´åˆã€2 

            // draggable ã¨ droppable ã®æ•°å­—ãŒä¸€è‡´ã—ãŸå ´åˆã®ã¿å‡¦ç†ã‚’å®Ÿè¡Œ
            if (draggableNumber == droppableNumber) {
                switch (draggableNumber) {
                    case 1:
                        drop1(e, circle, cross, seikaiSoundPath, hazureSoundPath);
                        break;
                    case 2:
                        drop2(e, circle, cross, seikaiSoundPath, hazureSoundPath);
                        break;
                    case 3:
                        drop3(e, circle, cross, seikaiSoundPath, hazureSoundPath);
                        break;
                    case 4:
                        drop4(e, circle, cross, seikaiSoundPath, hazureSoundPath);
                        break;
                    case 5:
                        drop5(e, circle, cross, seikaiSoundPath, hazureSoundPath);
                        break;
                    default:
                        break;
                }
            } else {
                // draggable ã¨ droppable ã®æ•°å­—ãŒä¸€è‡´ã—ãªã„å ´åˆã®å‡¦ç†
                playSound(seikaiSoundPath);
                playSound(hazureSoundPath);
            }
        });
    });
}



// ãƒ‰ãƒ­ãƒƒãƒ—1ã®å‡¦ç†
function drop1(e, circle, cross, seikaiSoundPath, hazureSoundPath) {
    drop(e, draggable1, circle, cross, seikaiSoundPath, hazureSoundPath, 'droppable1-2');
}

// ãƒ‰ãƒ­ãƒƒãƒ—2ã®å‡¦ç†
function drop2(e, circle, cross, seikaiSoundPath, hazureSoundPath) {
    drop(e, draggable2, circle, cross, seikaiSoundPath, hazureSoundPath, 'droppable2-4');
}

// ãƒ‰ãƒ­ãƒƒãƒ—3ã®å‡¦ç†
function drop3(e, circle, cross, seikaiSoundPath, hazureSoundPath) {
    drop(e, draggable3, circle, cross, seikaiSoundPath, hazureSoundPath, 'droppable3-1');
}

// ãƒ‰ãƒ­ãƒƒãƒ—4ã®å‡¦ç†
function drop4(e, circle, cross, seikaiSoundPath, hazureSoundPath) {
    drop(e, draggable4, circle, cross, seikaiSoundPath, hazureSoundPath, 'droppable4-5');
}

// ãƒ‰ãƒ­ãƒƒãƒ—5ã®å‡¦ç†
function drop5(e, circle, cross, seikaiSoundPath, hazureSoundPath) {
    drop(e, draggable5, circle, cross, seikaiSoundPath, hazureSoundPath, 'droppable5-3');
}

function drop(e, draggable, circle, cross, seikaiSoundPath, hazureSoundPath, correctDroppableId) {

    if (e.target.id === correctDroppableId) {
        e.target.appendChild(draggable);
        draggable.classList.add('dropped');
        circle.style.display = 'inline';
        playSound(seikaiSoundPath);
    } else {
        e.target.appendChild(draggable);
        draggable.classList.add('dropped');
        cross.style.display = 'inline';
        playSound(hazureSoundPath);
    }
    draggable.setAttribute('draggable', 'false');
}

// ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—é–¢æ•°
function setupResetButton(resetButton, draggable, circle, cross) {
    resetButton.addEventListener('click', function() {
        const droppedElement = document.querySelector('.dropped');
        if (droppedElement) {
            droppedElement.classList.remove('dropped');
            droppedElement.style.position = 'static';
        }
        circle.style.display = 'none';
        cross.style.display = 'none';
    });
}
    </script>    
</body>
</html>
